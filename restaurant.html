<!DOCTYPE html> 
<html lang="ar"> 
<head> 
  <meta charset="UTF-8"> 
  <title>مطعم 3D</title> 
  <style> 
    body { margin: 0; overflow: hidden; background: #222; } 
    canvas { display: block; } 
  </style> 
</head> 
<body> 
 
<!-- مكتبات Three.js --> 
<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/examples/js/controls/OrbitControls.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/examples/js/loaders/GLTFLoader.js"></script> 
 
<script> 
  // 1. المشهد والكاميرا 
  const scene = new THREE.Scene(); 
  scene.background = new THREE.Color(0x222222); 
 
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000); 
  camera.position.set(0, 3, 8); 
  camera.lookAt(0, 1.5, 0); 
 
  const renderer = new THREE.WebGLRenderer({antialias: true}); 
  renderer.setSize(window.innerWidth, window.innerHeight); 
  document.body.appendChild(renderer.domElement); 
 
  // 2. إضاءة 
  const light = new THREE.PointLight(0xffffff, 2); 
  light.position.set(5, 10, 5); 
  scene.add(light); 
 
  const ambient = new THREE.AmbientLight(0x888888); 
  scene.add(ambient); 
 
  // 3. تحكم بالماوس 
  const controls = new THREE.OrbitControls(camera, renderer.domElement); 
 
  // 4. أرضية 
  const floorGeo = new THREE.PlaneGeometry(20, 20); 
  const floorMat = new THREE.MeshPhongMaterial({color: 0x444444}); 
  const floor = new THREE.Mesh(floorGeo, floorMat); 
  floor.rotation.x = -Math.PI / 2; 
  scene.add(floor); 
 
  // 5. طاولة خشبية 
  const tableGeo = new THREE.CylinderGeometry(2, 2, 0.3, 32); 
  const tableMat = new THREE.MeshPhongMaterial({color: 0x8B4513}); 
  const table = new THREE.Mesh(tableGeo, tableMat); 
  table.position.y = 1.5; 
  scene.add(table); 
 
  // أرجل الطاولة - تصحيح المواقع
  const legGeo = new THREE.CylinderGeometry(0.2, 0.3, 1.5, 16); 
  const legMat = new THREE.MeshPhongMaterial({color: 0x5C3317}); 
  
  // إنشاء أربعة أرجل للطاولة
  for(let i=0; i<4; i++) {
    const leg = new THREE.Mesh(legGeo, legMat);
    const angle = (i / 4) * Math.PI * 2;
    leg.position.set(
      Math.cos(angle) * 1.5, // X position
      0.75,                  // Y position (half height of leg)
      Math.sin(angle) * 1.5  // Z position
    );
    scene.add(leg);
  }
 
  // 6. بيتزا بسيطة 
  const pizzaGeo = new THREE.CylinderGeometry(1.5, 1.5, 0.2, 32); 
  const pizzaMat = new THREE.MeshPhongMaterial({color: 0xffcc66}); 
  const pizza = new THREE.Mesh(pizzaGeo, pizzaMat); 
  pizza.position.y = 1.7; 
  scene.add(pizza); 
 
  // قطع سلامي 
  const pepperoniMat = new THREE.MeshPhongMaterial({color: 0xcc0000}); 
  for(let i=0;i<8;i++){ 
    const pepperoni = new THREE.Mesh(new THREE.CircleGeometry(0.2,16), pepperoniMat); 
    pepperoni.position.set(Math.cos(i/8 * Math.PI*2)*0.8, 1.81, Math.sin(i/8 * Math.PI*2)*0.8); 
    pepperoni.rotation.x = -Math.PI/2; 
    scene.add(pepperoni); 
  } 
 
  // إضافة كوب قهوة
  const cupBaseGeo = new THREE.CylinderGeometry(0.3, 0.2, 0.6, 16);
  const cupBaseMat = new THREE.MeshPhongMaterial({color: 0xffffff});
  const cupBase = new THREE.Mesh(cupBaseGeo, cupBaseMat);
  cupBase.position.set(-1.2, 1.8, 0);
  scene.add(cupBase);
  
  // قهوة داخل الكوب
  const coffeeGeo = new THREE.CylinderGeometry(0.28, 0.18, 0.1, 16);
  const coffeeMat = new THREE.MeshPhongMaterial({color: 0x3c2312});
  const coffee = new THREE.Mesh(coffeeGeo, coffeeMat);
  coffee.position.set(-1.2, 2.05, 0);
  scene.add(coffee);
  
  // بخار القهوة
  const steamMat = new THREE.MeshBasicMaterial({color: 0xffffff, transparent: true, opacity: 0.3});
  for(let i=0; i<5; i++) {
    const steamGeo = new THREE.SphereGeometry(0.05 + Math.random() * 0.05, 8, 8);
    const steam = new THREE.Mesh(steamGeo, steamMat);
    steam.position.set(
      -1.2 + (Math.random() * 0.2 - 0.1),
      2.2 + (i * 0.1),
      (Math.random() * 0.2 - 0.1)
    );
    scene.add(steam);
  }
 
  // 8. حلقة التحريك 
  function animate(){ 
    requestAnimationFrame(animate); 
    pizza.rotation.y += 0.01; // البيتزا تدور 
    controls.update(); 
    renderer.render(scene,camera); 
  } 
  animate(); 
 
  // 9. تحديث عند تغيير حجم الشاشة 
  window.addEventListener('resize', ()=>{ 
    camera.aspect = window.innerWidth/window.innerHeight; 
    camera.updateProjectionMatrix(); 
    renderer.setSize(window.innerWidth, window.innerHeight); 
  }); 
</script> 
 
</body> 
</html>